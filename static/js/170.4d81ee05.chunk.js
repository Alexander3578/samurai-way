"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[170],{9170:function(t,s,e){e.r(s),e.d(s,{default:function(){return T}});var i=e(8683),r=e(5671),u=e(3144),n=e(136),o=e(5716),a=e(8381),l="ProfileInfo_descriptionBlock__rvq6C",d=e(4455),p=e(885),c=e(9343),f=a.memo((function(t){var s=(0,a.useState)(!1),e=(0,p.Z)(s,2),i=e[0],r=e[1],u=(0,a.useState)(t.status),n=(0,p.Z)(u,2),o=n[0],l=n[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,c.jsx)("div",{children:i?(0,c.jsx)("div",{children:(0,c.jsx)("input",{value:o,onBlur:function(){r(!1),t.updateProfileStatus(o)},onChange:function(t){l(t.currentTarget.value)},autoFocus:!0})}):(0,c.jsx)("div",{children:(0,c.jsx)("span",{style:{minWidth:"80px",minHeight:"20px",display:"inline-block"},onDoubleClick:function(){t.authId===t.userId&&r(!0)},children:t.status})})})})),h=function(t){var s,e;return t.profile?(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:l,children:[(0,c.jsx)("img",{src:null===(s=t.profile)||void 0===s?void 0:s.photos.small,alt:"user photo"}),null===(e=t.profile)||void 0===e?void 0:e.fullName,(0,c.jsx)(f,{status:t.status,updateProfileStatus:t.updateProfileStatus,authId:t.authId,userId:t.profile.userId})]})}):(0,c.jsx)(d.p,{})},m="Post_item__-6T9v",j=function(t){var s=t.postName,e=t.likesCount,i=t.id;return(0,c.jsxs)("div",{className:m,children:[(0,c.jsx)("img",{src:"https://i.pinimg.com/originals/10/ad/ab/10adabc386ba646f7df5f4e4d3156272.jpg",alt:"ava"}),s,(0,c.jsx)("div",{children:(0,c.jsx)("span",{children:e})})]},i)},x="MyPosts_postBlock__M05SS",v="MyPosts_posts__jUZjK",P=e(1648),I=e(5188),S=e(7615),_=e(2427),b=(0,S.D)(30),g=(0,I.Z)({form:"addPostProfileForm"})((function(t){return(0,c.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,c.jsx)(P.Z,{component:_.N,tagName:"textarea",name:"postText",placeholder:"Write new post...",validate:[S.l,b]}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Add Post"})})]})})),k=a.memo((function(t){var s=t.postData,e=t.addPost,i=s.map((function(t){return(0,c.jsx)(j,{postName:t.postName,id:t.id,likesCount:t.likesCount},t.id)}));return(0,c.jsxs)("div",{className:x,children:[(0,c.jsx)("h3",{children:"My Posts"}),(0,c.jsx)(g,{onSubmit:function(t){e(t.postText)}}),(0,c.jsx)("div",{className:v,children:i})]})})),N=e(1378),Z=e(440),y=(0,Z.$j)((function(t){return{postData:t.profile.postData}}),(function(t){return{addPost:function(s){return t((0,N.Pi)(s))}}}))(k),C=function(t){return(0,c.jsxs)("div",{children:[(0,c.jsx)(h,{profile:t.profile,status:t.status,updateProfileStatus:t.updateProfileStatus,authId:t.authId}),(0,c.jsx)(y,{})]})},D=e(104),w=e(4479),A=e(5996),M=function(t){(0,n.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,u.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId&&":userId"!==this.props.match.params.userId?this.props.match.params.userId:this.props.authId;this.props.getProfileUser(Number(t)),this.props.getProfileStatus(Number(t))}},{key:"render",value:function(){return(0,c.jsx)(C,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateProfileStatus:this.props.updateProfileStatus,authId:this.props.authId}))}}]),e}(a.Component),T=(0,w.qC)(A.D,(0,Z.$j)((function(t){return{profile:t.profile.profile,status:t.profile.status,authId:t.auth.id}}),{getProfileUser:N.r2,getProfileStatus:N.bs,updateProfileStatus:N.xr}),D.EN)(M)},5996:function(t,s,e){e.d(s,{D:function(){return d}});var i=e(8683),r=e(5987),u=e(104),n=(e(8381),e(440)),o=e(9343),a=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}},d=function(t){return(0,n.$j)(l)((function(s){var e=s.isAuth,n=(0,r.Z)(s,a);return e?(0,o.jsx)(t,(0,i.Z)({},n)):(0,o.jsx)(u.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=170.4d81ee05.chunk.js.map